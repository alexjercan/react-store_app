(this["webpackJsonpstore-app"]=this["webpackJsonpstore-app"]||[]).push([[0],[,,,,function(e,t,a){},,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(12),a(2)),i=a.n(s),u=a(6),l=a(1),d=(a(14),a(15),a(4),function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement("li",{className:"store"},r.a.createElement("div",{className:"menu",onClick:function(e){o(!c)}},e.store.name),r.a.createElement("ul",{className:c?"dropdown.down":"dropdown"},r.a.createElement("li",null,e.store.coords.latitude),r.a.createElement("li",null,e.store.coords.longitude)))}),m=(a(16),function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(function(e,t,a){var n=function(e,t){var a=e.latitude,n=e.longitude,r=t.latitude,c=t.longitude,o=a*Math.PI/180,s=r*Math.PI/180,i=(r-a)*Math.PI/180,u=(c-n)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(o)*Math.cos(s)*Math.sin(u/2)*Math.sin(u/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))};return null===e||void 0===e?void 0:e.sort((function(e,a){return n(e.coords,t)-n(a.coords,t)})).filter((function(e){return n(e.coords,t)<=a}))}(e.allStores,e.coords,e.radius))}),[e.radius,e.allStores,e.coords]),r.a.createElement("div",null,r.a.createElement("ul",{className:"storeList"},null===c||void 0===c?void 0:c.map((function(e){return r.a.createElement(d,{key:e.id,store:e})}))))}),f=(a(17),function(e){var t=Object(n.useState)(100),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],d=i[1];return r.a.createElement("div",{className:"nav"},r.a.createElement("h1",{className:"kaufland"},"Kaufland Stores"),r.a.createElement("div",{className:"menu settings"},r.a.createElement("div",{className:"title",onClick:function(e){d(!u)}},"Settings"),r.a.createElement("div",{className:u?"dropdown":"dropdown.down"},r.a.createElement("div",{className:"option"},r.a.createElement("div",{className:"label"},"Range"),r.a.createElement("input",{type:"range",min:"0",max:e.maxRadius,onChange:function(t){e.setRadius(+t.target.value)},value:Math.min(e.radius,c)}),r.a.createElement("div",{className:"label"},e.radius)),r.a.createElement("div",{className:"option"},r.a.createElement("div",{className:"label"},"Max Range"),r.a.createElement("input",{className:"input",type:"text",pattern:"[0-9]*",onKeyDown:function(t){"Enter"===t.key&&(e.setMaxRadius(c),e.setRadius(Math.min(e.radius,c)))},onChange:function(e){o(+e.target.value)},value:c})," "))))}),p=function(){var e=Object(n.useState)(100),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(10),s=Object(l.a)(o,2),d=s[0],p=s[1],v=Object(n.useState)(),E=Object(l.a)(v,2),h=E[0],b=E[1],j=Object(n.useState)({latitude:0,longitude:0}),g=Object(l.a)(j,2),O=g[0],M=g[1];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};M(t)}))}),[]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:{position:t,radius:a}})});case 2:if(400===(n=e.sent).status){e.next=9;break}return e.next=6,n.json();case 6:return r=e.sent,c=r.map((function(e){return{id:e.storeId,name:e.name,coords:{latitude:e.latitude,longitude:e.longitude}}})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}})()(O,a).then(b)}),[a,O]),r.a.createElement("div",{className:"app"},r.a.createElement(f,{setRadius:p,radius:d,maxRadius:a,setMaxRadius:c}),r.a.createElement(m,{radius:d,coords:O,allStores:h}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.c14762ee.chunk.js.map